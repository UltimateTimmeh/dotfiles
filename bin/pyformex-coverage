#!/bin/bash
# Launch pyFormex from within the coverage framework.


if [ $# -ne 1 ]; then
    echo "Usage: pyformex-coverage WORKDIR"
    echo "Launch pyFormex from within the coverage framework inside WORKDIR."
    exit
fi

WDBACKUP=$(pwd)
cd $1

python -m coverage run /home/tim/Documents/pyformex/pyformex/pyformex --redirect
python -m coverage html --omit='/usr/*','*test_*','*__init__*','/home/tim/Documents/pyformex/*'

cd $WDBACKUP
